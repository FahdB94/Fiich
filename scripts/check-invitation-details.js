const { createClient } = require("@supabase/supabase-js"); require("dotenv").config({ path: ".env.local" }); const supabase = createClient(process.env.NEXT_PUBLIC_SUPABASE_URL, process.env.SUPABASE_SERVICE_ROLE_KEY); async function checkInvitationDetails() { console.log("🔍 Vérification détaillée des invitations..."); const { data: invitations, error } = await supabase.from("invitations").select("*").eq("invited_email", "coroalamelo@gmail.com").limit(3); if (error) { console.error("❌ Erreur:", error); return; } console.log("✅ Invitations trouvées:", invitations.length); invitations.forEach((inv, index) => { console.log(`
📧 Invitation ${index + 1}:`); console.log(`   Email invité: "${inv.invited_email}"`); console.log(`   Token: ${inv.invitation_token}`); console.log(`   Expire: ${inv.expires_at}`); console.log(`   Longueur email: ${inv.invited_email.length}`); console.log(`   Caractères: [${inv.invited_email.split("").map(c => c.charCodeAt(0)).join(", ")}]`); }); } checkInvitationDetails();
